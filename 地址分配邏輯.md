# 地址分配邏輯

## 通訊設定:
在PLC中，INT大小為16-bit integer，DINT為32-bit integer，REAL為64bit float，LREAL為64-bit float，其他依此類推  
目前確定通訊型式為**Little Endian**
||PLC|
|---|---|
|IP|192.168.1.10|
|Port|502|
|unit_id|0|


在**變數表**定義中寫`BOOL`表示該變數占滿一整個16-bit的大小  

# DUT定義
在**結構體定義**中寫`BIT`表示該變數僅佔一個bit的大小，且根據出現順序做連續分配，且**只要出現一個BIT，必須要把一整個WORD的大小塞滿，否則後續數據也會出現BIT偏移**，並且`BIT`不能寫作`ARRAY [] OF BIT`的形式  
在

MODBUS地址只使用**HoldingRegister**區域，地址從首位0開始，對應Modbus地址40001
所有分配在MODBUS的變數，若有標註*struct*開頭的變數類型，都是結構體，地址將依照結構體定義連續分配，沒有自定義OFFSET  
若有標註*struct*開頭的數據類型，都是結構體，地址將依照結構體定義連續分配，沒有自定義OFFSET  
若有標註*enum*開頭的數據類型，都是枚舉體Enumerator，視為一個INT傳輸
> 結構體定義和枚舉體可以在"./DUT"找到，沒有副檔名，請使用vscode或任一文字編輯器開啟  

若變數前沒有標註地址，則該變數地址**指向上一個變數成員的地址+SIZE** 
若有在定義中發現類似`diKnifePositions : ARRAY [0..NUM_OF_KNIFE_AXIS-1] OF DINT;`中的`NUM_OF_KNIFE_AXIS`，表示為常數，你可以在"./constants"找到，找不到請回饋  
